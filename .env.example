#############################################
# Unoapi Cloud — .env example (EN/PT-BR)
# Copy this file to .env and adjust values.
# Duplicated keys are intentional defaults; comments explain usage.
#############################################

# Core server / Servidor
# HTTP port (default 9876) / Porta HTTP (padrão 9876)
# PORT=9876
# Public base URL for media links / URL pública base para links de mídia
# BASE_URL=http://localhost:9876

# Webhook auth (optional) / Autenticação de Webhook (opcional)
# WEBHOOK_URL=http://localhost:3000/webhooks/whatsapp
# WEBHOOK_TOKEN=GoGnZZGn6DRtUQoWnUzgxDZL
# WEBHOOK_HEADER=api_access_token
IGNORE_GROUP_MESSAGES=true
IGNORE_BROADCAST_STATUSES=true

STORAGE_BUCKET_NAME=unoapi
STORAGE_ACCESS_KEY_ID=my-minio
STORAGE_SECRET_ACCESS_KEY=2NVQWHTTT3asdasMgqapGchy6yAMZn
STORAGE_REGION=us-east-1
STORAGE_ENDPOINT=http://localhost:9000
STORAGE_FORCE_PATH_STYLE=true

MINIO_SERVER_URL=http://localhost:9000
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001
MINIO_SITE_REGION=$STORAGE_REGION
MINIO_ROOT_USER=$STORAGE_ACCESS_KEY_ID
MINIO_ROOT_PASSWORD=$STORAGE_SECRET_ACCESS_KEY
UNOAPI_AUTH_TOKEN=jsdoijohiewr948hwodjqsjdjldasdlk

REJECT_CALLS=Oi, não consigo atender ligações no whatsapp, poderia me mandar uma mensagem?
REJECT_CALLS_WEBHOOK=Eu estava te ligando no whatsapp...
SEND_CONNECTION_STATUS=true

# Session / Conexão
# CONNECTION_TYPE=qrcode|pairing_code (default qrcode)
# Use pairing_code para pareamento sem exibir QR (headless)
# CONNECTION_TYPE=qrcode
# QR code timeout (ms) / Tempo limite para ler QR (ms)
# QR_TIMEOUT_MS=60000
# Validar que o número configurado bate com a sessão (default false)
# VALIDATE_SESSION_NUMBER=false

# Name that will be displayed on smartphone connection
CONFIG_SESSION_PHONE_CLIENT=Unoapi

# Browser Name = Chrome | Firefox | Edge | Opera | Safari

CONFIG_SESSION_PHONE_NAME=Chrome

# Audio PTT behavior & conversion
# Flag outgoing audio messages as PTT (voice note)
# Recommended: true
SEND_AUDIO_MESSAGE_AS_PTT=true

# Convert PTT audio to OGG/Opus using ffmpeg
# Recommended: true
CONVERT_AUDIO_MESSAGE_TO_OGG=true

# ffmpeg parameters for conversion (JSON array)
CONVERT_AUDIO_FFMPEG_PARAMS=["-vn","-ar","48000","-ac","1","-c:a","libopus","-b:a","64k","-application","voip","-avoid_negative_ts","make_zero","-map_metadata","-1","-f","ogg"]

# Generate waveform array for outgoing PTT audio
SEND_AUDIO_WAVEFORM=true
# Number of waveform samples (resolution)
AUDIO_WAVEFORM_SAMPLES=85

# Timeout controls (ms)
WEBHOOK_TIMEOUT_MS=360000
FETCH_TIMEOUT_MS=360000

# (Legacy) Only if you prefer using the older toggle style
# Defaults to SEND_AUDIO_MESSAGE_AS_PTT when unset
# CONVERT_AUDIO_TO_PTT=false

# History synchronization window
# Enable history import in your runtime config (if applicable) and
# limit import to only messages newer than N days
# IGNORE_HISTORY_MESSAGES=false
HISTORY_MAX_AGE_DAYS=30

# Group sending reliability
# Warn (soft check) when membership cannot be verified; sending still proceeds
GROUP_SEND_MEMBERSHIP_CHECK=true
# Prefer addressing mode when sending to groups (optional): 'pn' or 'lid'
# Leave empty to let Baileys decide automatically
GROUP_SEND_ADDRESSING_MODE=
# Proactively assert E2E sessions for all group participants before sending
GROUP_SEND_PREASSERT_SESSIONS=true

# Group receipt/status fan-out controls
# Suppress per-participant receipts for group messages (read/played/delivered by user)
GROUP_IGNORE_INDIVIDUAL_RECEIPTS=true
# For messages.update in groups, forward only DELIVERY_ACK (delivered)
GROUP_ONLY_DELIVERED_STATUS=true

# Status/Broadcast behavior / Comportamento de Status
# Allow LID JIDs in recipients (default true). Set false to normalize to PN
# Permitir JIDs LID na lista (padrão true). Coloque false para normalizar PN
# STATUS_ALLOW_LID=true

# Proxy (optional) / Proxy (opcional)
# PROXY_URL=socks5://user:pass@proxy.local:1080

# External stores / Armazenamentos externos
# Use Redis para sessão/dados; RabbitMQ para filas. Deixe em branco para usar filesystem
# REDIS_URL=redis://localhost:6379
# AMQP_URL=amqp://guest:guest@localhost:5672?frameMax=8192
